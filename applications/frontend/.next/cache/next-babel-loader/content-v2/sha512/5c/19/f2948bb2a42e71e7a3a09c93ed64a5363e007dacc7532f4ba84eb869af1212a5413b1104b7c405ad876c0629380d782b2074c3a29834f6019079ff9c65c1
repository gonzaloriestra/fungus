{"ast":null,"code":"import { getAccessToken, withApiAuthRequired } from '@auth0/nextjs-auth0';\nimport axios from 'axios';\nexport default withApiAuthRequired(async function locations(req, res) {\n  try {\n    const id = req.query.id;\n    console.log('EMTRASR');\n    const {\n      name,\n      zone\n    } = JSON.parse(req.body);\n    const {\n      accessToken\n    } = await getAccessToken(req, res); // To-Do create a API client for locations const client = new BillingApiClient(accessToken);\n\n    await axios.put(`http://localhost:3001/locations/${id}`, {\n      name,\n      coordinates: zone\n    }, {\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    });\n    res.status(201).end();\n  } catch (error) {\n    console.error(error);\n    res.status(error.status || 500).end(error.message);\n  }\n});","map":{"version":3,"sources":["/Users/sergiosanchez/Projects/fungus/applications/frontend/src/pages/api/locations/[id].ts"],"names":["getAccessToken","withApiAuthRequired","axios","locations","req","res","id","query","console","log","name","zone","JSON","parse","body","accessToken","put","coordinates","headers","Authorization","status","end","error","message"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,mBAAzB,QAAoD,qBAApD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAeD,mBAAmB,CAAC,eAAeE,SAAf,CAAyBC,GAAzB,EAA8BC,GAA9B,EAAmC;AACpE,MAAI;AACF,UAAMC,EAAE,GAAGF,GAAG,CAACG,KAAJ,CAAUD,EAArB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAiBC,IAAI,CAACC,KAAL,CAAWT,GAAG,CAACU,IAAf,CAAvB;AAEA,UAAM;AAAEC,MAAAA;AAAF,QAAkB,MAAMf,cAAc,CAACI,GAAD,EAAMC,GAAN,CAA5C,CALE,CAOF;;AACA,UAAMH,KAAK,CAACc,GAAN,CACH,mCAAkCV,EAAG,EADlC,EAEJ;AAAEI,MAAAA,IAAF;AAAQO,MAAAA,WAAW,EAAEN;AAArB,KAFI,EAGJ;AACEO,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASJ,WAAY;AAD9B;AADX,KAHI,CAAN;AASAV,IAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBC,GAAhB;AACD,GAlBD,CAkBE,OAAOC,KAAP,EAAc;AACdd,IAAAA,OAAO,CAACc,KAAR,CAAcA,KAAd;AACAjB,IAAAA,GAAG,CAACe,MAAJ,CAAWE,KAAK,CAACF,MAAN,IAAgB,GAA3B,EAAgCC,GAAhC,CAAoCC,KAAK,CAACC,OAA1C;AACD;AACF,CAvBiC,CAAlC","sourcesContent":["import { getAccessToken, withApiAuthRequired } from '@auth0/nextjs-auth0';\nimport axios from 'axios';\n\nexport default withApiAuthRequired(async function locations(req, res) {\n  try {\n    const id = req.query.id;\n    console.log('EMTRASR');\n    const { name, zone } = JSON.parse(req.body);\n\n    const { accessToken } = await getAccessToken(req, res);\n\n    // To-Do create a API client for locations const client = new BillingApiClient(accessToken);\n    await axios.put(\n      `http://localhost:3001/locations/${id}`,\n      { name, coordinates: zone },\n      {\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n        },\n      },\n    );\n    res.status(201).end();\n  } catch (error) {\n    console.error(error);\n    res.status(error.status || 500).end(error.message);\n  }\n});\n"]},"metadata":{},"sourceType":"module"}