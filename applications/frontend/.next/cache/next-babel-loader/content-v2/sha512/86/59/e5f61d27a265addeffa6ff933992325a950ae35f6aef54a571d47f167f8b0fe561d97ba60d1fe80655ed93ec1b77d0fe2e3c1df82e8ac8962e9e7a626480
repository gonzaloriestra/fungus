{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sergiosanchez/Projects/fungus/applications/frontend/src/pages/locations/[id].tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Button, Header as SemanticHeader, Icon } from 'semantic-ui-react';\nimport { withClientAuthRequired } from '../../authentication/withAuthRequired';\nimport useMyLocation from '../../queries/getLocation';\nimport Map from '../../components/Map';\nimport Link from 'next/link';\nimport Header, { ActivePage } from '../../components/Header';\nimport { useRouter } from 'next/router';\n\nfunction LocationDetails() {\n  _s();\n\n  var router = useRouter();\n\n  var _useMyLocation = useMyLocation({\n    id: router.query.id\n  }),\n      location = _useMyLocation.location,\n      isLoading = _useMyLocation.isLoading,\n      error = _useMyLocation.error;\n\n  if (error) {\n    // To-Do Implement error behaviour\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Loading failed: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (isLoading || location) {\n    // To-Do implement loading spinner\n    console.log(location);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      activePage: ActivePage.locations\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '500px',\n        padding: '0 100px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Map, {\n        location: location\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SemanticHeader, {\n      as: \"h2\",\n      children: [/*#__PURE__*/_jsxDEV(Icon, {\n        name: \"calendar alternate outline\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SemanticHeader.Content, {\n        children: \"Harvests\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      href: \"/harvests/new?locationId=\".concat(location.id),\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        primary: true,\n        children: \"Add Harvest\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(LocationDetails, \"k3Q8atSQdiu8wahWDzSJJNkxxpk=\", false, function () {\n  return [useRouter, useMyLocation];\n});\n\n_c = LocationDetails;\nexport default _c2 = withClientAuthRequired(LocationDetails); // export const getServerSideProps: GetServerSideProps = withServerAuthRequired(async ({ params }) => {\n//   const resLocation = await getLocation({ id: params.id });\n//\n//   let harvests;\n//   try {\n//     const resHarvests = await getHarvestsByLocationId({ locationId: params.id });\n//     harvests = resHarvests?.data;\n//   } catch (error) {\n//     harvests = [];\n//   }\n//\n//   // To-Do: Controls errors\n//   return { props: { location: resLocation.data, harvests } };\n// });\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"LocationDetails\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/sergiosanchez/Projects/fungus/applications/frontend/src/pages/locations/[id].tsx"],"names":["React","Button","Header","SemanticHeader","Icon","withClientAuthRequired","useMyLocation","Map","Link","ActivePage","useRouter","LocationDetails","router","id","query","location","isLoading","error","message","console","log","locations","height","padding"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAoCC,MAAM,IAAIC,cAA9C,EAA8DC,IAA9D,QAA0E,mBAA1E;AAEA,SAASC,sBAAT,QAAuC,uCAAvC;AAGA,OAAOC,aAAP,MAA0B,2BAA1B;AACA,OAAOC,GAAP,MAAgB,sBAAhB;AAGA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAON,MAAP,IAAiBO,UAAjB,QAAmC,yBAAnC;AACA,SAASC,SAAT,QAA0B,aAA1B;;AAQA,SAASC,eAAT,GAAwC;AAAA;;AACtC,MAAMC,MAAM,GAAGF,SAAS,EAAxB;;AADsC,uBAGCJ,aAAa,CAAC;AAAEO,IAAAA,EAAE,EAAED,MAAM,CAACE,KAAP,CAAaD;AAAnB,GAAD,CAHd;AAAA,MAG9BE,QAH8B,kBAG9BA,QAH8B;AAAA,MAGpBC,SAHoB,kBAGpBA,SAHoB;AAAA,MAGTC,KAHS,kBAGTA,KAHS;;AAKtC,MAAIA,KAAJ,EAAW;AACT;AACA,wBAAO;AAAA,qCAAsBA,KAAK,CAACC,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AAED,MAAIF,SAAS,IAAID,QAAjB,EAA2B;AACzB;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AACA,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AAED,sBACE;AAAA,4BACE,QAAC,MAAD;AAAQ,MAAA,UAAU,EAAEN,UAAU,CAACY;AAA/B;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AACE,MAAA,KAAK,EAAE;AACLC,QAAAA,MAAM,EAAE,OADH;AAELC,QAAAA,OAAO,EAAE;AAFJ,OADT;AAAA,6BAME,QAAC,GAAD;AAAK,QAAA,QAAQ,EAAER;AAAf;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,YAFF,eAUE,QAAC,cAAD;AAAgB,MAAA,EAAE,EAAC,IAAnB;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,IAAI,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,cAAD,CAAgB,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YAVF,eAeE,QAAC,IAAD;AAAM,MAAA,IAAI,qCAA8BA,QAAQ,CAACF,EAAvC,CAAV;AAAA,6BACE,QAAC,MAAD;AAAQ,QAAA,OAAO,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAfF;AAAA,kBADF;AAqBD;;GArCQF,e;UACQD,S,EAEwBJ,a;;;KAHhCK,e;AAuCT,qBAAeN,sBAAsB,CAACM,eAAD,CAArC,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React from 'react';\nimport { Button, DropdownItemProps, Header as SemanticHeader, Icon } from 'semantic-ui-react';\n\nimport { withClientAuthRequired } from '../../authentication/withAuthRequired';\n\nimport Location from '../../models/Location';\nimport useMyLocation from '../../queries/getLocation';\nimport Map from '../../components/Map';\nimport HarvestList from '../../components/HarvestList';\nimport getHarvestsByLocationId from '../../queries/getHarvestsByLocationId';\nimport Link from 'next/link';\nimport Header, { ActivePage } from '../../components/Header';\nimport { useRouter } from 'next/router';\n\ntype LocationDetailsProps = {\n  location: Location;\n  // To-Do make a right model for harvests\n  harvests: object;\n};\n\nfunction LocationDetails(): JSX.Element {\n  const router = useRouter();\n\n  const { location, isLoading, error } = useMyLocation({ id: router.query.id });\n\n  if (error) {\n    // To-Do Implement error behaviour\n    return <div>Loading failed: {error.message}</div>;\n  }\n\n  if (isLoading || location) {\n    // To-Do implement loading spinner\n    console.log(location);\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <>\n      <Header activePage={ActivePage.locations} />\n      <div\n        style={{\n          height: '500px',\n          padding: '0 100px',\n        }}\n      >\n        <Map location={location} />\n      </div>\n      <SemanticHeader as=\"h2\">\n        <Icon name=\"calendar alternate outline\" />\n        <SemanticHeader.Content>Harvests</SemanticHeader.Content>\n      </SemanticHeader>\n      {/*<HarvestList harvests={harvests} />*/}\n      <Link href={`/harvests/new?locationId=${location.id}`}>\n        <Button primary>Add Harvest</Button>\n      </Link>\n    </>\n  );\n}\n\nexport default withClientAuthRequired(LocationDetails);\n\n// export const getServerSideProps: GetServerSideProps = withServerAuthRequired(async ({ params }) => {\n//   const resLocation = await getLocation({ id: params.id });\n//\n//   let harvests;\n//   try {\n//     const resHarvests = await getHarvestsByLocationId({ locationId: params.id });\n//     harvests = resHarvests?.data;\n//   } catch (error) {\n//     harvests = [];\n//   }\n//\n//   // To-Do: Controls errors\n//   return { props: { location: resLocation.data, harvests } };\n// });\n"]},"metadata":{},"sourceType":"module"}