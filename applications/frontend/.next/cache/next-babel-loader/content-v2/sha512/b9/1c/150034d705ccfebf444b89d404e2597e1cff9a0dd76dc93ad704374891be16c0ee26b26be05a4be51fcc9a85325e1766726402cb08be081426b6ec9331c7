{"ast":null,"code":"import { getAccessToken, withApiAuthRequired } from '@auth0/nextjs-auth0';\nimport axios from 'axios';\nimport { v4 as uuidv4 } from 'uuid';\nexport default withApiAuthRequired(async function location(req, res) {\n  const id = uuidv4();\n  const payload = req.body;\n\n  try {\n    const {\n      accessToken\n    } = await getAccessToken(req, res); // To-Do create a API client for locations const client = new BillingApiClient(accessToken);\n\n    const result = axios.put(`http://localhost:3001/locations/${id}`, {\n      name: payload.name,\n      coordinates: payload.zone\n    }, {\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    });\n    res.status(200).json(result.data);\n  } catch (error) {\n    console.error(error);\n    res.status(error.status || 500).end(error.message);\n  }\n});","map":{"version":3,"sources":["/Users/sergiosanchez/Projects/fungus/applications/frontend/src/pages/api/location/index.ts"],"names":["getAccessToken","withApiAuthRequired","axios","v4","uuidv4","location","req","res","id","payload","body","accessToken","result","put","name","coordinates","zone","headers","Authorization","status","json","data","error","console","end","message"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,mBAAzB,QAAoD,qBAApD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;AAEA,eAAeH,mBAAmB,CAAC,eAAeI,QAAf,CAAwBC,GAAxB,EAA6BC,GAA7B,EAAkC;AACnE,QAAMC,EAAE,GAAGJ,MAAM,EAAjB;AACA,QAAMK,OAAO,GAAGH,GAAG,CAACI,IAApB;;AAEA,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAkB,MAAMX,cAAc,CAACM,GAAD,EAAMC,GAAN,CAA5C,CADE,CAGF;;AACA,UAAMK,MAAM,GAAGV,KAAK,CAACW,GAAN,CACZ,mCAAkCL,EAAG,EADzB,EAEb;AAAEM,MAAAA,IAAI,EAAEL,OAAO,CAACK,IAAhB;AAAsBC,MAAAA,WAAW,EAAEN,OAAO,CAACO;AAA3C,KAFa,EAGb;AACEC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASP,WAAY;AAD9B;AADX,KAHa,CAAf;AASAJ,IAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBR,MAAM,CAACS,IAA5B;AACD,GAdD,CAcE,OAAOC,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACAf,IAAAA,GAAG,CAACY,MAAJ,CAAWG,KAAK,CAACH,MAAN,IAAgB,GAA3B,EAAgCK,GAAhC,CAAoCF,KAAK,CAACG,OAA1C;AACD;AACF,CAtBiC,CAAlC","sourcesContent":["import { getAccessToken, withApiAuthRequired } from '@auth0/nextjs-auth0';\nimport axios from 'axios';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport default withApiAuthRequired(async function location(req, res) {\n  const id = uuidv4();\n  const payload = req.body;\n\n  try {\n    const { accessToken } = await getAccessToken(req, res);\n\n    // To-Do create a API client for locations const client = new BillingApiClient(accessToken);\n    const result = axios.put(\n      `http://localhost:3001/locations/${id}`,\n      { name: payload.name, coordinates: payload.zone },\n      {\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n        },\n      },\n    );\n    res.status(200).json(result.data);\n  } catch (error) {\n    console.error(error);\n    res.status(error.status || 500).end(error.message);\n  }\n});\n"]},"metadata":{},"sourceType":"module"}