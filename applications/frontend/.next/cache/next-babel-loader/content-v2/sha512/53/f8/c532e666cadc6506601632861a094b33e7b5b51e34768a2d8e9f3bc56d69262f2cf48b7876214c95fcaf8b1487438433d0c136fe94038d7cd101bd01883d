{"ast":null,"code":"import { getAccessToken, withApiAuthRequired } from '@auth0/nextjs-auth0';\nimport axios from 'axios';\nexport default withApiAuthRequired(async function (req, res) {\n  try {\n    const id = req.query.id;\n    const body = JSON.parse(req.body);\n    const {\n      accessToken\n    } = await getAccessToken(req, res); // To-Do create a API client for locations const client = new BillingApiClient(accessToken);\n\n    await axios.put(`http://localhost:3001/harvests/${id}`, body, {\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    });\n    res.status(201);\n  } catch (error) {\n    console.error(error);\n    res.status(error.status || 500).end(error.message);\n  }\n});","map":{"version":3,"sources":["/Users/sergiosanchez/Projects/fungus/applications/frontend/src/pages/api/harvests/[id].ts"],"names":["getAccessToken","withApiAuthRequired","axios","req","res","id","query","body","JSON","parse","accessToken","put","headers","Authorization","status","error","console","end","message"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,mBAAzB,QAAoD,qBAApD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAeD,mBAAmB,CAAC,gBAAgBE,GAAhB,EAAqBC,GAArB,EAA0B;AAC3D,MAAI;AACF,UAAMC,EAAE,GAAGF,GAAG,CAACG,KAAJ,CAAUD,EAArB;AACA,UAAME,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWN,GAAG,CAACI,IAAf,CAAb;AAEA,UAAM;AAAEG,MAAAA;AAAF,QAAkB,MAAMV,cAAc,CAACG,GAAD,EAAMC,GAAN,CAA5C,CAJE,CAKF;;AACA,UAAMF,KAAK,CAACS,GAAN,CAAW,kCAAiCN,EAAG,EAA/C,EAAkDE,IAAlD,EAAwD;AAC5DK,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASH,WAAY;AAD9B;AADmD,KAAxD,CAAN;AAKAN,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX;AACD,GAZD,CAYE,OAAOC,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACAX,IAAAA,GAAG,CAACU,MAAJ,CAAWC,KAAK,CAACD,MAAN,IAAgB,GAA3B,EAAgCG,GAAhC,CAAoCF,KAAK,CAACG,OAA1C;AACD;AACF,CAjBiC,CAAlC","sourcesContent":["import { getAccessToken, withApiAuthRequired } from '@auth0/nextjs-auth0';\nimport axios from 'axios';\n\nexport default withApiAuthRequired(async function (req, res) {\n  try {\n    const id = req.query.id;\n    const body = JSON.parse(req.body);\n\n    const { accessToken } = await getAccessToken(req, res);\n    // To-Do create a API client for locations const client = new BillingApiClient(accessToken);\n    await axios.put(`http://localhost:3001/harvests/${id}`, body, {\n      headers: {\n        Authorization: `Bearer ${accessToken}`,\n      },\n    });\n    res.status(201);\n  } catch (error) {\n    console.error(error);\n    res.status(error.status || 500).end(error.message);\n  }\n});\n"]},"metadata":{},"sourceType":"module"}