{"ast":null,"code":"import { getAccessToken, withApiAuthRequired } from '@auth0/nextjs-auth0';\nimport axios from 'axios';\nexport default withApiAuthRequired(async function locations(req, res) {\n  console.log('REQUEST_________________');\n  console.log(req.query);\n  console.log(req.body);\n\n  try {\n    const id = req.query.id;\n    const {\n      name,\n      zone\n    } = req.body;\n    const {\n      accessToken\n    } = await getAccessToken(req, res); // To-Do create a API client for locations const client = new BillingApiClient(accessToken);\n\n    await axios({\n      method: 'put',\n      url: `http://localhost:3001/locations/${id}`,\n      data: {\n        name,\n        coordinates: zone\n      },\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    });\n    res.status(201);\n  } catch (error) {\n    console.error(error);\n    res.status(error.status || 500).end(error.message);\n  }\n});","map":{"version":3,"sources":["/Users/sergiosanchez/Projects/fungus/applications/frontend/src/pages/api/locations/[id].ts"],"names":["getAccessToken","withApiAuthRequired","axios","locations","req","res","console","log","query","body","id","name","zone","accessToken","method","url","data","coordinates","headers","Authorization","status","error","end","message"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,mBAAzB,QAAoD,qBAApD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAeD,mBAAmB,CAAC,eAAeE,SAAf,CAAyBC,GAAzB,EAA8BC,GAA9B,EAAmC;AACpEC,EAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,KAAhB;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACK,IAAhB;;AACA,MAAI;AACF,UAAMC,EAAE,GAAGN,GAAG,CAACI,KAAJ,CAAUE,EAArB;AACA,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAiBR,GAAG,CAACK,IAA3B;AAEA,UAAM;AAAEI,MAAAA;AAAF,QAAkB,MAAMb,cAAc,CAACI,GAAD,EAAMC,GAAN,CAA5C,CAJE,CAMF;;AACA,UAAMH,KAAK,CAAC;AACVY,MAAAA,MAAM,EAAE,KADE;AAEVC,MAAAA,GAAG,EAAG,mCAAkCL,EAAG,EAFjC;AAGVM,MAAAA,IAAI,EAAE;AAAEL,QAAAA,IAAF;AAAQM,QAAAA,WAAW,EAAEL;AAArB,OAHI;AAIVM,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASN,WAAY;AAD9B;AAJC,KAAD,CAAX;AAQAR,IAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX;AACD,GAhBD,CAgBE,OAAOC,KAAP,EAAc;AACdf,IAAAA,OAAO,CAACe,KAAR,CAAcA,KAAd;AACAhB,IAAAA,GAAG,CAACe,MAAJ,CAAWC,KAAK,CAACD,MAAN,IAAgB,GAA3B,EAAgCE,GAAhC,CAAoCD,KAAK,CAACE,OAA1C;AACD;AACF,CAxBiC,CAAlC","sourcesContent":["import { getAccessToken, withApiAuthRequired } from '@auth0/nextjs-auth0';\nimport axios from 'axios';\n\nexport default withApiAuthRequired(async function locations(req, res) {\n  console.log('REQUEST_________________');\n  console.log(req.query);\n  console.log(req.body);\n  try {\n    const id = req.query.id;\n    const { name, zone } = req.body;\n\n    const { accessToken } = await getAccessToken(req, res);\n\n    // To-Do create a API client for locations const client = new BillingApiClient(accessToken);\n    await axios({\n      method: 'put',\n      url: `http://localhost:3001/locations/${id}`,\n      data: { name, coordinates: zone },\n      headers: {\n        Authorization: `Bearer ${accessToken}`,\n      },\n    });\n    res.status(201);\n  } catch (error) {\n    console.error(error);\n    res.status(error.status || 500).end(error.message);\n  }\n});\n"]},"metadata":{},"sourceType":"module"}