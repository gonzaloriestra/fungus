{"ast":null,"code":"import { getAccessToken, withApiAuthRequired } from '@auth0/nextjs-auth0';\nimport axios from 'axios';\nexport default withApiAuthRequired(async function locations(req, res) {\n  try {\n    const {\n      accessToken\n    } = await getAccessToken(req, res, {\n      scopes: ['profile']\n    }); // To-Do create a API client for locations const client = new BillingApiClient(accessToken);\n\n    const result = await axios('http://localhost:3001/me/locations', {\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    });\n    res.status(200).json(result.data);\n  } catch (error) {\n    console.error(error);\n    res.status(error.status || 500).end(error.message);\n  }\n});","map":{"version":3,"sources":["/Users/sergiosanchez/Projects/fungus/applications/frontend/src/pages/api/me/locations.ts"],"names":["getAccessToken","withApiAuthRequired","axios","locations","req","res","accessToken","scopes","result","headers","Authorization","status","json","data","error","console","end","message"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,mBAAzB,QAAoD,qBAApD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAeD,mBAAmB,CAAC,eAAeE,SAAf,CAAyBC,GAAzB,EAA8BC,GAA9B,EAAmC;AACpE,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAkB,MAAMN,cAAc,CAACI,GAAD,EAAMC,GAAN,EAAW;AACrDE,MAAAA,MAAM,EAAE,CAAC,SAAD;AAD6C,KAAX,CAA5C,CADE,CAKF;;AACA,UAAMC,MAAM,GAAG,MAAMN,KAAK,CAAC,oCAAD,EAAuC;AAC/DO,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASJ,WAAY;AAD9B;AADsD,KAAvC,CAA1B;AAKAD,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBJ,MAAM,CAACK,IAA5B;AACD,GAZD,CAYE,OAAOC,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACAT,IAAAA,GAAG,CAACM,MAAJ,CAAWG,KAAK,CAACH,MAAN,IAAgB,GAA3B,EAAgCK,GAAhC,CAAoCF,KAAK,CAACG,OAA1C;AACD;AACF,CAjBiC,CAAlC","sourcesContent":["import { getAccessToken, withApiAuthRequired } from '@auth0/nextjs-auth0';\nimport axios from 'axios';\n\nexport default withApiAuthRequired(async function locations(req, res) {\n  try {\n    const { accessToken } = await getAccessToken(req, res, {\n      scopes: ['profile'],\n    });\n\n    // To-Do create a API client for locations const client = new BillingApiClient(accessToken);\n    const result = await axios('http://localhost:3001/me/locations', {\n      headers: {\n        Authorization: `Bearer ${accessToken}`,\n      },\n    });\n    res.status(200).json(result.data);\n  } catch (error) {\n    console.error(error);\n    res.status(error.status || 500).end(error.message);\n  }\n});\n"]},"metadata":{},"sourceType":"module"}