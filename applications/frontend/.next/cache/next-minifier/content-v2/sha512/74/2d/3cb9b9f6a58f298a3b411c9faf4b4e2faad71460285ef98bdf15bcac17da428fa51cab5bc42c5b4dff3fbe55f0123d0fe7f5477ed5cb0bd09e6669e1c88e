{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[26],{EeTW:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/predictions\",function(){return a(\"Ou+K\")}])},\"Ou+K\":function(e,t,a){\"use strict\";a.r(t),a.d(t,\"__N_SSP\",(function(){return x})),a.d(t,\"default\",(function(){return N}));var n=a(\"nKUr\"),c=a(\"vJKn\"),r=a.n(c),i=a(\"rg98\"),o=a(\"q1tI\"),s=a(\"yE/o\"),l=a(\"vFsZ\"),d=a(\"K0hk\"),u=a(\"QetY\"),b=a(\"ezNy\"),j=a(\"aQu0\"),O=a(\"D1pA\"),h=a(\"VtrM\"),p=a(\"20a2\"),v=a(\"xxHi\"),m=a(\"xnX7\"),f=a(\"cKXd\"),x=!0;function N(e){var t=e.mushrooms,a=Object(p.useRouter)(),c=Object(o.useState)(\"\"),x=c[0],N=c[1],g=Object(o.useState)(a.query.locationId),y=g[0],_=g[1],w=Object(o.useState)(\"\"),E=w[0],k=w[1],S=Object(o.useState)(\"\"),K=S[0],I=S[1],P=Object(o.useState)(!1),C=P[0],T=P[1],X=function(){var e=Object(i.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.default)({date:x,locationId:y,mushroomId:E});case 2:a=e.sent,I(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.probability),T(!0);case 5:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.b,{activePage:f.a.predictions}),Object(n.jsxs)(s.a,{children:[Object(n.jsxs)(l.a,{onSubmit:X,children:[Object(n.jsxs)(l.a.Field,{children:[Object(n.jsx)(\"label\",{children:\"\\xbfCu\\xe1ndo?\"}),Object(n.jsx)(\"input\",{type:\"date\",onChange:function(e){return N(e.target.value)},placeholder:\"Introduce fecha\"})]}),Object(n.jsxs)(l.a.Field,{children:[Object(n.jsx)(\"label\",{children:\"\\xbfQu\\xe9 seta?\"}),Object(n.jsx)(d.a,{placeholder:\"Seleciona especie\",options:t.map((function(e){return{key:e.id,value:e.id,text:e.scientificName}})),onChange:function(e,t){return k(t.value)}})]}),Object(n.jsxs)(l.a.Field,{children:[Object(n.jsx)(\"label\",{children:\"\\xbfPara qu\\xe9 localizaci\\xf3n?\"}),Object(n.jsx)(d.a,{placeholder:\"Seleciona localizaci\\xf3n\",options:function(){var e=Object(h.a)(\"/api/me/locations\",v.a).data;return null===e||void 0===e?void 0:e.map((function(e){return{key:e.id,value:e.id,text:e.name}}))}(),onChange:function(e,t){_(t.value),a.push(\"predictions/?locationId=\".concat(t.value),void 0,{shallow:!0})},value:y})]}),Object(n.jsx)(u.a,{floated:\"right\",type:\"submit\",primary:!0,children:\"Mostrar predicci\\xf3n\"})]}),Object(n.jsx)(b.a,{active:C,onClickOutside:function(){return T(!1)},page:!0,children:Object(n.jsxs)(j.a,{as:\"h2\",icon:!0,inverted:!0,children:[Object(n.jsx)(O.a,{name:\"heart\"}),Object(n.jsx)(j.a.Subheader,{children:K})]})})]})]})}},aQu0:function(e,t,a){\"use strict\";var n=a(\"wx14\"),c=a(\"iuhU\"),r=(a(\"17x9\"),a(\"q1tI\")),i=a.n(r),o=a(\"ZeOK\"),s=a(\"ICNK\"),l=a(\"Y53p\"),d=a(\"H+2d\"),u=a(\"D1pA\"),b=a(\"5XkN\"),j=a(\"MZgk\");function O(e){var t=e.children,a=e.className,r=e.content,o=Object(c.a)(\"sub header\",a),u=Object(s.a)(O,e),b=Object(l.a)(O,e);return i.a.createElement(b,Object(n.a)({},u,{className:o}),d.a.isNil(t)?r:t)}O.handledProps=[\"as\",\"children\",\"className\",\"content\"],O.propTypes={},O.create=Object(j.d)(O,(function(e){return{content:e}}));var h=O;function p(e){var t=e.children,a=e.className,r=e.content,o=Object(c.a)(\"content\",a),u=Object(s.a)(p,e),b=Object(l.a)(p,e);return i.a.createElement(b,Object(n.a)({},u,{className:o}),d.a.isNil(t)?r:t)}p.handledProps=[\"as\",\"children\",\"className\",\"content\"],p.propTypes={};var v=p;function m(e){var t=e.attached,a=e.block,r=e.children,j=e.className,O=e.color,p=e.content,f=e.disabled,x=e.dividing,N=e.floated,g=e.icon,y=e.image,_=e.inverted,w=e.size,E=e.sub,k=e.subheader,S=e.textAlign,K=Object(c.a)(\"ui\",O,w,Object(o.a)(a,\"block\"),Object(o.a)(f,\"disabled\"),Object(o.a)(x,\"dividing\"),Object(o.e)(N,\"floated\"),Object(o.a)(!0===g,\"icon\"),Object(o.a)(!0===y,\"image\"),Object(o.a)(_,\"inverted\"),Object(o.a)(E,\"sub\"),Object(o.b)(t,\"attached\"),Object(o.d)(S),\"header\",j),I=Object(s.a)(m,e),P=Object(l.a)(m,e);if(!d.a.isNil(r))return i.a.createElement(P,Object(n.a)({},I,{className:K}),r);var C=u.a.create(g,{autoGenerateKey:!1}),T=b.a.create(y,{autoGenerateKey:!1}),X=h.create(k,{autoGenerateKey:!1});return C||T?i.a.createElement(P,Object(n.a)({},I,{className:K}),C||T,(p||X)&&i.a.createElement(v,null,p,X)):i.a.createElement(P,Object(n.a)({},I,{className:K}),p,X)}m.handledProps=[\"as\",\"attached\",\"block\",\"children\",\"className\",\"color\",\"content\",\"disabled\",\"dividing\",\"floated\",\"icon\",\"image\",\"inverted\",\"size\",\"sub\",\"subheader\",\"textAlign\"],m.propTypes={},m.Content=v,m.Subheader=h;t.a=m},xnX7:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"default\",(function(){return r}));var n=a(\"vDqi\"),c=a.n(n);function r(e){var t=e.date,a=e.locationId,n=e.mushroomId;return c.a.get(\"http://localhost:3001/locations/\".concat(a,\"/mushrooms/\").concat(n,\"/predictions?date=\").concat(t))}}},[[\"EeTW\",0,1,2,3,4,5,6,7]]]);","map":{"version":3,"sources":["static/chunks/pages/predictions-47adac2ce78ab7996a00.js"],"names":["_N_E","window","push","EeTW","module","exports","__webpack_require__","__NEXT_P","Ou+K","__webpack_exports__","r","d","__N_SSP","Predictions","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","_Users_sergiosanchez_Projects_fungus_applications_frontend_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_sergiosanchez_Projects_fungus_applications_frontend_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","n","_Users_sergiosanchez_Projects_fungus_applications_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_9__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_10__","swr__WEBPACK_IMPORTED_MODULE_11__","next_router__WEBPACK_IMPORTED_MODULE_12__","_fetching_fetcher__WEBPACK_IMPORTED_MODULE_13__","_queries_makePrediction__WEBPACK_IMPORTED_MODULE_14__","_components_Header__WEBPACK_IMPORTED_MODULE_15__","_ref","mushrooms","router","Object","_useState","date","setDate","_useState2","query","locationId","setLocationId","_useState3","mushroomId","setMushroomId","_useState4","prediction","setPrediction","_useState5","active","setActive","handleOnSubmit","_ref2","a","mark","_callee","_response$data","response","wrap","_context","prev","next","sent","data","probability","stop","apply","this","arguments","children","activePage","predictions","onSubmit","Field","type","onChange","e","target","value","placeholder","options","map","mushroom","key","id","text","scientificName","_","locations","location","name","transformLocationsInOptions","concat","undefined","shallow","floated","primary","onClickOutside","page","as","icon","inverted","Subheader","aQu0","esm_extends","clsx_m","react","react_default","classNameBuilders","getUnhandledProps","getElementType","lib","Icon","Image","factories","HeaderSubheader","props","className","content","classes","rest","ElementType","createElement","isNil","handledProps","propTypes","create","Header_HeaderSubheader","HeaderContent","Header_HeaderContent","Header","attached","block","color","disabled","dividing","image","size","sub","subheader","textAlign","iconElement","autoGenerateKey","imageElement","subheaderElement","Content","xnX7","makePrediction","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","get"],"mappings":"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"},"name":"static/chunks/pages/predictions-47adac2ce78ab7996a00.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[26],{\n\n/***/ \"EeTW\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/predictions\",\n      function () {\n        return __webpack_require__(\"Ou+K\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"Ou+K\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Predictions; });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_sergiosanchez_Projects_fungus_applications_frontend_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _Users_sergiosanchez_Projects_fungus_applications_frontend_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_sergiosanchez_Projects_fungus_applications_frontend_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Users_sergiosanchez_Projects_fungus_applications_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"rg98\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"yE/o\");\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"vFsZ\");\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"K0hk\");\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"QetY\");\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"ezNy\");\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"aQu0\");\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"D1pA\");\n/* harmony import */ var swr__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"VtrM\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _fetching_fetcher__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"xxHi\");\n/* harmony import */ var _queries_makePrediction__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"xnX7\");\n/* harmony import */ var _components_Header__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"cKXd\");\n\n\n\n\n\n\n\n\n\n\n\n\nvar __N_SSP = true;\nfunction Predictions(_ref) {\n  var mushrooms = _ref.mushrooms;\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_12__[\"useRouter\"])();\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(''),\n      date = _useState[0],\n      setDate = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(router.query.locationId),\n      locationId = _useState2[0],\n      setLocationId = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(''),\n      mushroomId = _useState3[0],\n      setMushroomId = _useState3[1];\n\n  var _useState4 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(''),\n      prediction = _useState4[0],\n      setPrediction = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n      active = _useState5[0],\n      setActive = _useState5[1];\n\n  var handleOnSubmit = /*#__PURE__*/function () {\n    var _ref2 = Object(_Users_sergiosanchez_Projects_fungus_applications_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/_Users_sergiosanchez_Projects_fungus_applications_frontend_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {\n      var _response$data;\n\n      var response;\n      return _Users_sergiosanchez_Projects_fungus_applications_frontend_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return Object(_queries_makePrediction__WEBPACK_IMPORTED_MODULE_14__[\"default\"])({\n                date: date,\n                locationId: locationId,\n                mushroomId: mushroomId\n              });\n\n            case 2:\n              response = _context.sent;\n              setPrediction(response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.probability);\n              setActive(true);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleOnSubmit() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleClose = function handleClose() {\n    return setActive(false);\n  };\n\n  var handleOnChangeLocation = function handleOnChangeLocation(_, data) {\n    setLocationId(data.value);\n    router.push(\"predictions/?locationId=\".concat(data.value), undefined, {\n      shallow: true\n    });\n  };\n\n  function transformLocationsInOptions() {\n    var result = Object(swr__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"])(\"/api/me/locations\", _fetching_fetcher__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"]);\n    var locations = result.data; // const error: Error = result.error;\n    // if (error) {\n    //   return <div>Loading failed: {error.message}</div>;\n    // }\n    // if (!locations) {\n    //   return <div>Loading...</div>;\n    // }\n\n    return locations === null || locations === void 0 ? void 0 : locations.map(function (location) {\n      return {\n        key: location.id,\n        value: location.id,\n        text: location.name\n      };\n    });\n  }\n\n  function transformMushroomsInOptions() {\n    return mushrooms.map(function (mushroom) {\n      return {\n        key: mushroom.id,\n        value: mushroom.id,\n        text: mushroom.scientificName\n      };\n    });\n  }\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_Header__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"b\"], {\n      activePage: _components_Header__WEBPACK_IMPORTED_MODULE_15__[/* ActivePage */ \"a\"].predictions\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n        onSubmit: handleOnSubmit,\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].Field, {\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n            children: \"\\xBFCu\\xE1ndo?\"\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"input\", {\n            type: \"date\",\n            onChange: function onChange(e) {\n              return setDate(e.target.value);\n            },\n            placeholder: \"Introduce fecha\"\n          })]\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].Field, {\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n            children: \"\\xBFQu\\xE9 seta?\"\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"], {\n            placeholder: \"Seleciona especie\",\n            options: transformMushroomsInOptions() // @ts-ignore\n            ,\n            onChange: function onChange(_, data) {\n              return setMushroomId(data.value);\n            }\n          })]\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].Field, {\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n            children: \"\\xBFPara qu\\xE9 localizaci\\xF3n?\"\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"], {\n            placeholder: \"Seleciona localizaci\\xF3n\",\n            options: transformLocationsInOptions(),\n            onChange: handleOnChangeLocation,\n            value: locationId\n          })]\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n          floated: 'right',\n          type: \"submit\",\n          primary: true,\n          children: \"Mostrar predicci\\xF3n\"\n        })]\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"], {\n        active: active,\n        onClickOutside: handleClose,\n        page: true,\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {\n          as: \"h2\",\n          icon: true,\n          inverted: true,\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n            name: \"heart\"\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"].Subheader, {\n            children: prediction\n          })]\n        })\n      })]\n    })]\n  });\n}\n\n/***/ }),\n\n/***/ \"aQu0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js\nvar esm_extends = __webpack_require__(\"wx14\");\n\n// EXTERNAL MODULE: ./node_modules/clsx/dist/clsx.m.js\nvar clsx_m = __webpack_require__(\"iuhU\");\n\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(\"17x9\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/lib/classNameBuilders.js\nvar classNameBuilders = __webpack_require__(\"ZeOK\");\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/lib/getUnhandledProps.js\nvar getUnhandledProps = __webpack_require__(\"ICNK\");\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/lib/getElementType.js\nvar getElementType = __webpack_require__(\"Y53p\");\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/lib/index.js + 1 modules\nvar lib = __webpack_require__(\"H+2d\");\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Icon/Icon.js + 1 modules\nvar Icon = __webpack_require__(\"D1pA\");\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Image/Image.js + 1 modules\nvar Image = __webpack_require__(\"5XkN\");\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/lib/factories.js + 3 modules\nvar factories = __webpack_require__(\"MZgk\");\n\n// CONCATENATED MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Header/HeaderSubheader.js\n\n\n\n\n\n/**\n * Headers may contain subheaders.\n */\n\nfunction HeaderSubheader(props) {\n  var children = props.children,\n      className = props.className,\n      content = props.content;\n  var classes = Object(clsx_m[\"a\" /* default */])('sub header', className);\n  var rest = Object(getUnhandledProps[\"a\" /* default */])(HeaderSubheader, props);\n  var ElementType = Object(getElementType[\"a\" /* default */])(HeaderSubheader, props);\n  return /*#__PURE__*/react_default.a.createElement(ElementType, Object(esm_extends[\"a\" /* default */])({}, rest, {\n    className: classes\n  }), lib[\"a\" /* childrenUtils */].isNil(children) ? content : children);\n}\n\nHeaderSubheader.handledProps = [\"as\", \"children\", \"className\", \"content\"];\nHeaderSubheader.propTypes =  false ? undefined : {};\nHeaderSubheader.create = Object(factories[\"d\" /* createShorthandFactory */])(HeaderSubheader, function (content) {\n  return {\n    content: content\n  };\n});\n/* harmony default export */ var Header_HeaderSubheader = (HeaderSubheader);\n// CONCATENATED MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Header/HeaderContent.js\n\n\n\n\n\n/**\n * Header content wraps the main content when there is an adjacent Icon or Image.\n */\n\nfunction HeaderContent(props) {\n  var children = props.children,\n      className = props.className,\n      content = props.content;\n  var classes = Object(clsx_m[\"a\" /* default */])('content', className);\n  var rest = Object(getUnhandledProps[\"a\" /* default */])(HeaderContent, props);\n  var ElementType = Object(getElementType[\"a\" /* default */])(HeaderContent, props);\n  return /*#__PURE__*/react_default.a.createElement(ElementType, Object(esm_extends[\"a\" /* default */])({}, rest, {\n    className: classes\n  }), lib[\"a\" /* childrenUtils */].isNil(children) ? content : children);\n}\n\nHeaderContent.handledProps = [\"as\", \"children\", \"className\", \"content\"];\nHeaderContent.propTypes =  false ? undefined : {};\n/* harmony default export */ var Header_HeaderContent = (HeaderContent);\n// CONCATENATED MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Header/Header.js\n\n\n\n\n\n\n\n\n\n\n/**\n * A header provides a short summary of content\n */\n\nfunction Header(props) {\n  var attached = props.attached,\n      block = props.block,\n      children = props.children,\n      className = props.className,\n      color = props.color,\n      content = props.content,\n      disabled = props.disabled,\n      dividing = props.dividing,\n      floated = props.floated,\n      icon = props.icon,\n      image = props.image,\n      inverted = props.inverted,\n      size = props.size,\n      sub = props.sub,\n      subheader = props.subheader,\n      textAlign = props.textAlign;\n  var classes = Object(clsx_m[\"a\" /* default */])('ui', color, size, Object(classNameBuilders[\"a\" /* useKeyOnly */])(block, 'block'), Object(classNameBuilders[\"a\" /* useKeyOnly */])(disabled, 'disabled'), Object(classNameBuilders[\"a\" /* useKeyOnly */])(dividing, 'dividing'), Object(classNameBuilders[\"e\" /* useValueAndKey */])(floated, 'floated'), Object(classNameBuilders[\"a\" /* useKeyOnly */])(icon === true, 'icon'), Object(classNameBuilders[\"a\" /* useKeyOnly */])(image === true, 'image'), Object(classNameBuilders[\"a\" /* useKeyOnly */])(inverted, 'inverted'), Object(classNameBuilders[\"a\" /* useKeyOnly */])(sub, 'sub'), Object(classNameBuilders[\"b\" /* useKeyOrValueAndKey */])(attached, 'attached'), Object(classNameBuilders[\"d\" /* useTextAlignProp */])(textAlign), 'header', className);\n  var rest = Object(getUnhandledProps[\"a\" /* default */])(Header, props);\n  var ElementType = Object(getElementType[\"a\" /* default */])(Header, props);\n\n  if (!lib[\"a\" /* childrenUtils */].isNil(children)) {\n    return /*#__PURE__*/react_default.a.createElement(ElementType, Object(esm_extends[\"a\" /* default */])({}, rest, {\n      className: classes\n    }), children);\n  }\n\n  var iconElement = Icon[\"a\" /* default */].create(icon, {\n    autoGenerateKey: false\n  });\n  var imageElement = Image[\"a\" /* default */].create(image, {\n    autoGenerateKey: false\n  });\n  var subheaderElement = Header_HeaderSubheader.create(subheader, {\n    autoGenerateKey: false\n  });\n\n  if (iconElement || imageElement) {\n    return /*#__PURE__*/react_default.a.createElement(ElementType, Object(esm_extends[\"a\" /* default */])({}, rest, {\n      className: classes\n    }), iconElement || imageElement, (content || subheaderElement) && /*#__PURE__*/react_default.a.createElement(Header_HeaderContent, null, content, subheaderElement));\n  }\n\n  return /*#__PURE__*/react_default.a.createElement(ElementType, Object(esm_extends[\"a\" /* default */])({}, rest, {\n    className: classes\n  }), content, subheaderElement);\n}\n\nHeader.handledProps = [\"as\", \"attached\", \"block\", \"children\", \"className\", \"color\", \"content\", \"disabled\", \"dividing\", \"floated\", \"icon\", \"image\", \"inverted\", \"size\", \"sub\", \"subheader\", \"textAlign\"];\nHeader.propTypes =  false ? undefined : {};\nHeader.Content = Header_HeaderContent;\nHeader.Subheader = Header_HeaderSubheader;\n/* harmony default export */ var Header_Header = __webpack_exports__[\"a\"] = (Header);\n\n/***/ }),\n\n/***/ \"xnX7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return makePrediction; });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"vDqi\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction makePrediction(_ref) {\n  var date = _ref.date,\n      locationId = _ref.locationId,\n      mushroomId = _ref.mushroomId;\n  return axios__WEBPACK_IMPORTED_MODULE_0___default.a.get(\"http://localhost:3001/locations/\".concat(locationId, \"/mushrooms/\").concat(mushroomId, \"/predictions?date=\").concat(date));\n}\n\n/***/ })\n\n},[[\"EeTW\",0,1,2,3,4,5,6,7]]]);","inputSourceMap":{"version":3,"sources":["/Users/sergiosanchez/Projects/fungus/applications/frontend/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fpredictions&absolutePagePath=private-next-pages%2Fpredictions%2Findex.tsx!","/Users/sergiosanchez/Projects/fungus/applications/frontend/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/sergiosanchez/Projects/fungus/applications/frontend/src/pages/predictions/index.tsx","/Users/sergiosanchez/Projects/fungus/applications/frontend/node_modules/semantic-ui-react/dist/es/elements/Header/HeaderSubheader.js","/Users/sergiosanchez/Projects/fungus/applications/frontend/node_modules/semantic-ui-react/dist/es/elements/Header/HeaderContent.js","/Users/sergiosanchez/Projects/fungus/applications/frontend/node_modules/semantic-ui-react/dist/es/elements/Header/Header.js","/Users/sergiosanchez/Projects/fungus/applications/frontend/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/sergiosanchez/Projects/fungus/applications/frontend/src/pages/predictions/queries/makePrediction.ts"],"names":[],"mappings":"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","file":"x","sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/predictions\",\n      function () {\n        return require(\"private-next-pages/predictions/index.tsx\");\n      }\n    ]);\n  ","import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/Users/sergiosanchez/Projects/fungus/applications/frontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sergiosanchez/Projects/fungus/applications/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useState } from 'react';\nimport { Button, Container, Form, Select, Header as SemanticHeader, Dimmer, Icon } from 'semantic-ui-react';\nimport useSWR from 'swr';\nimport { useRouter } from 'next/router';\nimport fetcher from '../../fetching/fetcher';\nimport makePrediction from './queries/makePrediction';\nimport Header, { ActivePage } from '../../components/Header';\nexport var __N_SSP = true;\nexport default function Predictions(_ref) {\n  var mushrooms = _ref.mushrooms;\n  var router = useRouter();\n\n  var _useState = useState(''),\n      date = _useState[0],\n      setDate = _useState[1];\n\n  var _useState2 = useState(router.query.locationId),\n      locationId = _useState2[0],\n      setLocationId = _useState2[1];\n\n  var _useState3 = useState(''),\n      mushroomId = _useState3[0],\n      setMushroomId = _useState3[1];\n\n  var _useState4 = useState(''),\n      prediction = _useState4[0],\n      setPrediction = _useState4[1];\n\n  var _useState5 = useState(false),\n      active = _useState5[0],\n      setActive = _useState5[1];\n\n  var handleOnSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _response$data;\n\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return makePrediction({\n                date: date,\n                locationId: locationId,\n                mushroomId: mushroomId\n              });\n\n            case 2:\n              response = _context.sent;\n              setPrediction(response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.probability);\n              setActive(true);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleOnSubmit() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleClose = function handleClose() {\n    return setActive(false);\n  };\n\n  var handleOnChangeLocation = function handleOnChangeLocation(_, data) {\n    setLocationId(data.value);\n    router.push(\"predictions/?locationId=\".concat(data.value), undefined, {\n      shallow: true\n    });\n  };\n\n  function transformLocationsInOptions() {\n    var result = useSWR(\"/api/me/locations\", fetcher);\n    var locations = result.data; // const error: Error = result.error;\n    // if (error) {\n    //   return <div>Loading failed: {error.message}</div>;\n    // }\n    // if (!locations) {\n    //   return <div>Loading...</div>;\n    // }\n\n    return locations === null || locations === void 0 ? void 0 : locations.map(function (location) {\n      return {\n        key: location.id,\n        value: location.id,\n        text: location.name\n      };\n    });\n  }\n\n  function transformMushroomsInOptions() {\n    return mushrooms.map(function (mushroom) {\n      return {\n        key: mushroom.id,\n        value: mushroom.id,\n        text: mushroom.scientificName\n      };\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Header, {\n      activePage: ActivePage.predictions\n    }), /*#__PURE__*/_jsxs(Container, {\n      children: [/*#__PURE__*/_jsxs(Form, {\n        onSubmit: handleOnSubmit,\n        children: [/*#__PURE__*/_jsxs(Form.Field, {\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            children: \"\\xBFCu\\xE1ndo?\"\n          }), /*#__PURE__*/_jsx(\"input\", {\n            type: \"date\",\n            onChange: function onChange(e) {\n              return setDate(e.target.value);\n            },\n            placeholder: \"Introduce fecha\"\n          })]\n        }), /*#__PURE__*/_jsxs(Form.Field, {\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            children: \"\\xBFQu\\xE9 seta?\"\n          }), /*#__PURE__*/_jsx(Select, {\n            placeholder: \"Seleciona especie\",\n            options: transformMushroomsInOptions() // @ts-ignore\n            ,\n            onChange: function onChange(_, data) {\n              return setMushroomId(data.value);\n            }\n          })]\n        }), /*#__PURE__*/_jsxs(Form.Field, {\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            children: \"\\xBFPara qu\\xE9 localizaci\\xF3n?\"\n          }), /*#__PURE__*/_jsx(Select, {\n            placeholder: \"Seleciona localizaci\\xF3n\",\n            options: transformLocationsInOptions(),\n            onChange: handleOnChangeLocation,\n            value: locationId\n          })]\n        }), /*#__PURE__*/_jsx(Button, {\n          floated: 'right',\n          type: \"submit\",\n          primary: true,\n          children: \"Mostrar predicci\\xF3n\"\n        })]\n      }), /*#__PURE__*/_jsx(Dimmer, {\n        active: active,\n        onClickOutside: handleClose,\n        page: true,\n        children: /*#__PURE__*/_jsxs(SemanticHeader, {\n          as: \"h2\",\n          icon: true,\n          inverted: true,\n          children: [/*#__PURE__*/_jsx(Icon, {\n            name: \"heart\"\n          }), /*#__PURE__*/_jsx(SemanticHeader.Subheader, {\n            children: prediction\n          })]\n        })\n      })]\n    })]\n  });\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport cx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { childrenUtils, createShorthandFactory, customPropTypes, getElementType, getUnhandledProps } from '../../lib';\n/**\n * Headers may contain subheaders.\n */\n\nfunction HeaderSubheader(props) {\n  var children = props.children,\n      className = props.className,\n      content = props.content;\n  var classes = cx('sub header', className);\n  var rest = getUnhandledProps(HeaderSubheader, props);\n  var ElementType = getElementType(HeaderSubheader, props);\n  return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n    className: classes\n  }), childrenUtils.isNil(children) ? content : children);\n}\n\nHeaderSubheader.handledProps = [\"as\", \"children\", \"className\", \"content\"];\nHeaderSubheader.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: PropTypes.elementType,\n\n  /** Primary content. */\n  children: PropTypes.node,\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** Shorthand for primary content. */\n  content: customPropTypes.contentShorthand\n} : {};\nHeaderSubheader.create = createShorthandFactory(HeaderSubheader, function (content) {\n  return {\n    content: content\n  };\n});\nexport default HeaderSubheader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport cx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { childrenUtils, customPropTypes, getElementType, getUnhandledProps } from '../../lib';\n/**\n * Header content wraps the main content when there is an adjacent Icon or Image.\n */\n\nfunction HeaderContent(props) {\n  var children = props.children,\n      className = props.className,\n      content = props.content;\n  var classes = cx('content', className);\n  var rest = getUnhandledProps(HeaderContent, props);\n  var ElementType = getElementType(HeaderContent, props);\n  return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n    className: classes\n  }), childrenUtils.isNil(children) ? content : children);\n}\n\nHeaderContent.handledProps = [\"as\", \"children\", \"className\", \"content\"];\nHeaderContent.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: PropTypes.elementType,\n\n  /** Primary content. */\n  children: PropTypes.node,\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** Shorthand for primary content. */\n  content: customPropTypes.contentShorthand\n} : {};\nexport default HeaderContent;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _without from \"lodash-es/without\";\nimport cx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { childrenUtils, customPropTypes, getElementType, getUnhandledProps, SUI, useValueAndKey, useTextAlignProp, useKeyOrValueAndKey, useKeyOnly } from '../../lib';\nimport Icon from '../Icon';\nimport Image from '../Image';\nimport HeaderSubheader from './HeaderSubheader';\nimport HeaderContent from './HeaderContent';\n/**\n * A header provides a short summary of content\n */\n\nfunction Header(props) {\n  var attached = props.attached,\n      block = props.block,\n      children = props.children,\n      className = props.className,\n      color = props.color,\n      content = props.content,\n      disabled = props.disabled,\n      dividing = props.dividing,\n      floated = props.floated,\n      icon = props.icon,\n      image = props.image,\n      inverted = props.inverted,\n      size = props.size,\n      sub = props.sub,\n      subheader = props.subheader,\n      textAlign = props.textAlign;\n  var classes = cx('ui', color, size, useKeyOnly(block, 'block'), useKeyOnly(disabled, 'disabled'), useKeyOnly(dividing, 'dividing'), useValueAndKey(floated, 'floated'), useKeyOnly(icon === true, 'icon'), useKeyOnly(image === true, 'image'), useKeyOnly(inverted, 'inverted'), useKeyOnly(sub, 'sub'), useKeyOrValueAndKey(attached, 'attached'), useTextAlignProp(textAlign), 'header', className);\n  var rest = getUnhandledProps(Header, props);\n  var ElementType = getElementType(Header, props);\n\n  if (!childrenUtils.isNil(children)) {\n    return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n      className: classes\n    }), children);\n  }\n\n  var iconElement = Icon.create(icon, {\n    autoGenerateKey: false\n  });\n  var imageElement = Image.create(image, {\n    autoGenerateKey: false\n  });\n  var subheaderElement = HeaderSubheader.create(subheader, {\n    autoGenerateKey: false\n  });\n\n  if (iconElement || imageElement) {\n    return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n      className: classes\n    }), iconElement || imageElement, (content || subheaderElement) && /*#__PURE__*/React.createElement(HeaderContent, null, content, subheaderElement));\n  }\n\n  return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n    className: classes\n  }), content, subheaderElement);\n}\n\nHeader.handledProps = [\"as\", \"attached\", \"block\", \"children\", \"className\", \"color\", \"content\", \"disabled\", \"dividing\", \"floated\", \"icon\", \"image\", \"inverted\", \"size\", \"sub\", \"subheader\", \"textAlign\"];\nHeader.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: PropTypes.elementType,\n\n  /** Attach header  to other content, like a segment. */\n  attached: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['top', 'bottom'])]),\n\n  /** Format header to appear inside a content block. */\n  block: PropTypes.bool,\n\n  /** Primary content. */\n  children: PropTypes.node,\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** Color of the header. */\n  color: PropTypes.oneOf(SUI.COLORS),\n\n  /** Shorthand for primary content. */\n  content: customPropTypes.contentShorthand,\n\n  /** Show that the header is inactive. */\n  disabled: PropTypes.bool,\n\n  /** Divide header from the content below it. */\n  dividing: PropTypes.bool,\n\n  /** Header can sit to the left or right of other content. */\n  floated: PropTypes.oneOf(SUI.FLOATS),\n\n  /** Add an icon by icon name or pass an Icon. */\n  icon: customPropTypes.every([customPropTypes.disallow(['image']), PropTypes.oneOfType([PropTypes.bool, customPropTypes.itemShorthand])]),\n\n  /** Add an image by img src or pass an Image. */\n  image: customPropTypes.every([customPropTypes.disallow(['icon']), PropTypes.oneOfType([PropTypes.bool, customPropTypes.itemShorthand])]),\n\n  /** Inverts the color of the header for dark backgrounds. */\n  inverted: PropTypes.bool,\n\n  /** Content headings are sized with em and are based on the font-size of their container. */\n  size: PropTypes.oneOf(_without(SUI.SIZES, 'big', 'massive', 'mini')),\n\n  /** Headers may be formatted to label smaller or de-emphasized content. */\n  sub: PropTypes.bool,\n\n  /** Shorthand for Header.Subheader. */\n  subheader: customPropTypes.itemShorthand,\n\n  /** Align header content. */\n  textAlign: PropTypes.oneOf(SUI.TEXT_ALIGNMENTS)\n} : {};\nHeader.Content = HeaderContent;\nHeader.Subheader = HeaderSubheader;\nexport default Header;","import axios from 'axios';\nexport default function makePrediction(_ref) {\n  var date = _ref.date,\n      locationId = _ref.locationId,\n      mushroomId = _ref.mushroomId;\n  return axios.get(\"http://localhost:3001/locations/\".concat(locationId, \"/mushrooms/\").concat(mushroomId, \"/predictions?date=\").concat(date));\n}"]}}